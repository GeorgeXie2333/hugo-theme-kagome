<section class="aside-widget widget-categories">
  <h2 class="widget-header">
    <div class="title">
      <svg class="icon icon-categories" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <path d="M518.4512 603.1872c-12.6464 0-25.344-3.3792-36.608-10.0864L143.5648 391.5264c-22.2208-13.2608-35.2768-36.608-34.9184-62.5152s14.1312-48.8448 36.7104-61.44l339.0464-188.7744c21.8112-12.1856 47.872-12.1344 69.6832 0.0512l337.664 188.7232c22.5792 12.5952 36.2496 35.584 36.608 61.44 0.3584 25.856-12.6976 49.2032-34.9184 62.464l-338.432 201.6256a71.29088 71.29088 0 0 1-36.5568 10.0864z m0.7168-471.9616c-1.6896 0-3.3792 0.4096-4.9152 1.28L175.2576 321.28c-4.4544 2.4576-5.1712 6.5024-5.1712 8.6528-0.0512 2.1504 0.5632 6.1952 4.9152 8.8064l338.2784 201.5744c3.1744 1.8944 7.1168 1.8944 10.3424 0l338.432-201.6256c4.352-2.6112 4.9664-6.656 4.9152-8.8064-0.0512-2.2016-0.7168-6.1952-5.1712-8.6528l-337.664-188.7232c-1.536-0.8704-3.2256-1.28-4.9664-1.28zM160.3072 294.4z" fill="#303135"></path>
        <path d="M518.0416 777.4208c-15.4624 0-30.9248-3.84-44.8-11.52L89.6 553.1648a30.76608 30.76608 0 0 1-11.9808-41.7792 30.72 30.72 0 0 1 41.7792-11.9808l383.5904 212.736c9.3696 5.1712 20.992 5.12 30.3104-0.1536l373.0944-212.3776a30.70976 30.70976 0 0 1 41.8816 11.52c8.3968 14.7456 3.2256 33.4848-11.52 41.8816l-373.0944 212.4288c-13.9776 7.9872-29.7984 11.9808-45.6192 11.9808z" fill="#FF623E"></path>
        <path d="M518.0416 956.1088c-15.4624 0-30.9248-3.84-44.8-11.52L89.6 731.8528a30.76608 30.76608 0 0 1-11.9808-41.7792 30.72 30.72 0 0 1 41.7792-11.9808L503.04 890.88c9.3696 5.1712 20.992 5.12 30.3104-0.1536l373.0944-212.3776a30.70976 30.70976 0 0 1 41.8816 11.52c8.3968 14.7456 3.2256 33.4848-11.52 41.8816l-373.0944 212.4288a92.86144 92.86144 0 0 1-45.6704 11.9296z" fill="#303135"></path>
      </svg>
      <span>Categories</span>
    </div>
  </h2>
  <div class="widget-body">
    <ul class="categories-list">
      {{ $count := or .Site.Params.widget.categories_count 6 }}
      {{ range first $count .Site.Taxonomies.categories.ByCount }}
        <li>
          <a href="{{ .Page.Permalink }}">{{ .Page.Title }}</a>
          <span>{{ len .Page.Pages }}</span>
        </li>
      {{ end }}
    </ul>
  </div>

  {{ if gt (len .Site.Taxonomies.categories) $count }}
    {{ $all_page := $.Site.GetPage (printf "/%s" "categories") }}
    <div class="widget-footer">
      <a href="{{ $all_page.Permalink }}" class="more-link">
        show all
        <svg class="icon icon-more" width="16" height="16" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <path d="M60.928 247.808c-13.824-13.824-36.352-13.824-50.688 0-13.824 13.824-13.824 36.352 0 50.688L224.256 512 10.24 725.504c-13.824 13.824-13.824 36.352 0 50.688 7.168 7.168 15.872 10.24 25.088 10.24s18.432-3.584 25.088-10.24l239.104-239.104c13.824-13.824 13.824-36.352 0-50.688L60.928 247.808zM417.792 247.808c-13.824-13.824-36.352-13.824-50.688 0-13.824 13.824-13.824 36.352 0 50.688l213.504 213.504-213.504 213.504c-13.824 13.824-13.824 36.352 0 50.688 7.168 7.168 15.872 10.24 25.088 10.24s18.432-3.584 25.088-10.24l239.104-239.104c13.824-13.824 13.824-36.352 0-50.688L417.792 247.808zM1013.76 486.912l-239.104-239.104c-13.824-13.824-36.352-13.824-50.688 0-13.824 13.824-13.824 36.352 0 50.688l213.504 213.504-213.504 213.504c-13.824 13.824-13.824 36.352 0 50.688 7.168 7.168 15.872 10.24 25.088 10.24s18.432-3.584 25.088-10.24l239.104-239.104c14.336-13.824 14.336-36.352 0.512-50.176z"></path>
        </svg>
      </a>
    </div>
  {{ end }}
</section>